# 数学建模-垃圾运输问题

> 是2021年6月13日的数学建模课的论文，那时是通过matlab求解的，且没有注释。

## 一、问题重述

* 某城区有 36 个垃圾集中点，每天都要从垃圾处理厂（第 37 号节点）出发将垃圾运回。
* 现有一种载重 6 吨的运输车。
* 每个垃圾点需要用 10 分钟的时间装车，运输车平均速度为 40 公里／小时（夜里运输，不考虑塞车现象）；
* 每台车每日平均工作 4 小时。
* 运输车重载运费 1.8 元 / 吨公里；
* 运输车和装垃圾用的铲车空载费用 0.4 元 / 公里；
* 并且假定街道方向均平行于坐标轴。(这里表示车的路线只能平行于坐标轴)
* 请你给出满意的运输调度方案以及计算程序。

问题：

1. 运输车应如何调度（需要投入多少台运输车，每台车的调度方案，运营费用）
2. 铲车应如何调度（需要多少台铲车，每台铲车的行走路线，运营费用）
3. 如果有载重量为 4 吨、 6 吨、 8 吨三种运输车，又如何调度？

## 二、模型假设

1. 假设每个站点每天的垃圾量基本相同；
2. 假设每个站点的垃圾当天都必须清理完，不能有滞留；
3. 不考虑运输车和铲车在行驶过程中速度变化问题，速度恒定，也就是不存在堵车，车辆出问题等情况；
4. 不能超载；
5. 运输车工作时间可以适当加减，但不得过多；
6. 只有晚上运输垃圾，产生的垃圾白天时间不会减少；
7. 假设卸垃圾及倒车均在十分钟完成；
8. 运输车装的足够多的情况下直接返回原点；
9. 每个垃圾站点均位于街道路口，方便垃圾的集中和运输；

## 三、模型的建立与求解

### 3.1 题目一问题分析

由于最远的垃圾集中点的运输时间不超过运输车每天的平均工作时间，所以先不考虑时间的约束。

主要考虑最短运输路线，以达到费用最少等问题。

题中给出关于垃圾量和运输费用的累积计算，以运输车装载的垃圾量和当天要清理所用的垃圾等为约束条件，以运输车是否从一个垃圾站到另一个垃圾站为决策变量建立运输车花费最小单目标的非线性规划模型。

在运输过程中主要考虑费用最少，而投入的车辆主要根据路径花费的时间，在根据最后题目中每辆车的不超过四小时的工作时间来确定最后的车辆和路线。

### 3.2 题目二问题分析

由于运输车的路线已经确定，且第一题的运输路线可以保证为最短路线，故应该让铲车来将就运输车，这样铲车的费用会比较少。
这里我们应该将第一题运输车的十一条线路看做十一个节点，并且保证前一条线路的出口，到下一条线路的入口的路程差最小，这样铲车的运行路程最小，所产生的花费也最少。
并且题中并未规定铲车的运行时间，只规定了夜间运输，若按照0：00到6:00为夜间的话，每台铲车运行时间为6小时。
因为可以控制运输车的出发时间，只要做到铲车在6:00之前返回垃圾场，则不需要考虑运输车的到达时间

### 3.3 题目三问题分析

在第一问的基础上对运输车载重的约束条件从不大于6吨改为不大于8吨，

在求得各条路线中，对于垃圾量不大于4吨的路线，调用4吨的运输车，大于4吨不到6吨的调用6吨的运输车，小于八吨的调用八吨的运输车。

## 四、问题一拆解

> 这里的写作时间：2024年2月1日14:27:51

### 4.1 图论问题

一个坐标系中，有36个点，

每个点上都有一个权值，从0.5到2.5不等，

且每个点只能被连接一次，

现在从原点出发，发起多条路径(两点间的距离等于其横坐标只差加上纵坐标之差)，

每条路径的权值不能超过6，

问:在总路径最短的情况下，有几条线路，且总路径是多少

#### 4.1.1 GPT解答

这个问题属于计算机科学中的图论问题，需要考虑权值，距离以及路径的限制等因素。看上去它是一种特定的运输问题(A Transportation
Problem in Operations Research)，并且涉及到图的生成树和最短路径问题。

本问题的理论答案需要根据具体的坐标位置和权值得出，

一般可以通过构建一个带权有向图，然后对该图进行遍历，获得每一个起点到各点的最短路径。

根据题目中的问法，我们需要限制权值小于等于6，

采用Dijkstra 算法或者 Bellman-Ford 算法等最短路径算法来找一个总路径权值最小的最短路径树。

但是需要注意的是，这个问题构建的图是在一个二维平面坐标系中，

因此需要把这个二维平面坐标转换为图结构，同时要巧妙地处理权值和点的一一对应关系。

同时需要对所有点进行遍历，找出总路径最短的方案。

### 4.2 NP困难问题

> NP困难的意思是“非确定多项式”

现在有十个任务，

每个工作任务的时长是[138, 94, 96, 99, 136, 148, 139, 175, 177, 136]，

我需要将这10个任务分给6个人，

我希望他们每个人的工作时间尽可能地平均，且耗时最多不能超过300

#### 4.2.1 GPT解答

这是一个相当困难的问题，它实际上是NP困难问题之一的变种，名为“装箱问题”或“分区问题”。

对于此种问题，使用贪心算法或者回溯算法可能是最合适的。

使用贪心算法，可以这样做：

1. 首先，对所有的工作时长进行排序。
2. 创建一个长度为6的数组（或者列表），将每个人的工作时间初始化为0。
3. 从耗时最长的任务开始，将其分配给当前工作时间最小的人。

## 问题二分析

由于运输车的路线已经确定，故应让铲车等运输车。
且每条路线耗时已确定，不妨将第一题的十条线路看做十个传送点。
每当铲车到传送点入口(离原点最远)，就消耗指定的时间，出现在传送点出口(离原点最近)。
先不考虑“铲车到下一条路线入口时，运输车还没有到”这种情况，只让铲车从一个节点到另一个节点。
等铲车方案出了以后，再建立一个铲车、运输车的时刻表，来对各车辆的出发时间进行统筹

## 问题三分析

> 可能铲车的调度也要改

这里题目说有载重量为 4 吨、 6 吨、 8 吨三种运输车，
但并没有其它限制条件，故只需要按照8吨运输车算即可。
只需要将第一题的6改成8，以及保存的csv文件名改一下即可。
